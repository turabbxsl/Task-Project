@model EntityLayer.Concrete.Loan

@{
    ViewData["Title"] = "LoanDetails";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@addTagHelper*, Microsoft.AspNetCore.Mvc.TagHelpers

<h1>Loan Details</h1>

<form method="post" asp-controller="Invoices" asp-action="CalculateInvoices">
    <div>

        <input type="hidden"  asp-for="@Model.LoanId" />
        <div>
            <p style="float:left;">Client</p>
            <div style="margin-left:200px;">
                <input type="text" style="text-align:center" disabled="disabled" asp-for="@Model.Client.Name" />
            </div>
        </div>
        <br />
        <div>
            <p style="float:left;">Telephone Number</p>
            <div style="margin-left:200px;">
                <input type="text" disabled="disabled" asp-for="@Model.Client.TelephoneNr" />
            </div>
        </div>
        <br />
        <div>
            <p style="float:left;">Loan Amount</p>
            <div style="margin-left:200px;">
                <input type="text" asp-for="@Model.Amount" />
            </div>
        </div>
        <br />
        <div>
            <p style="float:left;">Loan Period(months)</p>
            <select style="margin-left:20px;width:200px;" asp-for="@Model.LoanPeriod" >

                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
                <option>6</option>
                <option>7</option>
                <option>8</option>
                <option>9</option>
                <option>10</option>
                <option>11</option>
                <option>12</option>

            </select>
        </div>
        <br />
        <div>
            <p style="float:left;">Monthly interest rate</p>
            <div style="margin-left:200px;">
                <input type="text" name="InterestRate" asp-for="@Model.InterestRate" />
            </div>
        </div>
        <br />
        <div>
            <p style="float:left;">Payout Date</p>
            <div style="margin-left:200px;">
                <input type="text" disabled="disabled" name="PayoutDate" value="@Model.PayoutDate.ToShortDateString()" /> 
            </div>
        </div>
        <br />
        <div>

            <div style="margin-left:220px;">
                <button class="btn btn-primary" type="submit">Calculate invoices</button>
            </div>
        </div>

    </div>
</form>

@await Component.InvokeAsync("InvoicesList")

<div>
    <a asp-action="Index">Back to List</a>
</div>
